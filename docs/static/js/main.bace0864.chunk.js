(this["webpackJsonpcrfs-todo"]=this["webpackJsonpcrfs-todo"]||[]).push([[0],{13:function(e,t,a){e.exports={loading:"TodoList_loading__Mt9H6",todo:"TodoList_todo__1UXV1",check:"TodoList_check__1Dlbs",action:"TodoList_action__3UJa6",delete:"TodoList_delete__21RwW TodoList_action__3UJa6"}},30:function(e,t,a){e.exports=a(36)},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(22),o=a.n(r),i=a(16),s=a(26),l=a(25),u=a(27),m=a(23),d=a(40),p=a(37);function v(){var e=localStorage.getItem("todos"),t=new Map;if(null===e)t.set(1,{id:1,message:"Feed the cat",isDone:!1}),t.set(2,{id:2,message:"Walk the dog",isDone:!0}),f(t);else{var a=!0,n=!1,c=void 0;try{for(var r,o=JSON.parse(e)[Symbol.iterator]();!(a=(r=o.next()).done);a=!0){var i=r.value;t.set(i.id,i)}}catch(s){n=!0,c=s}finally{try{a||null==o.return||o.return()}finally{if(n)throw c}}}return t}function f(e){localStorage.setItem("todos",JSON.stringify(Array.from(e.values())))}var E=a(13),_=a.n(E),b=a(38),g=a(41),h=a(39),O=a(24),N=new Map;function j(){var e=c.a.useRef(new Set),t=c.a.useState(!1),a=Object(i.a)(t,2),n=a[0],r=a[1];c.a.useEffect((function(){return function(){e.current.forEach((function(e){e.unsubscribe()}))}}),[]);var o=function(t,a){r(!0);var n=t.subscribe({next:a,complete:function(){e.current.delete(n),r(e.current.size>0)}});e.current.add(n)},E=c.a.useState(N),j=Object(i.a)(E,2),y=j[0],k=j[1];c.a.useEffect((function(){var e=(n?b.a:Object(g.a)(0,5e3).pipe(Object(h.a)((function(){return Object(u.a)(Array.from(v().values())).pipe(Object(d.a)(1e3),Object(p.a)((function(){console.log("Mock API GET")})))})),Object(O.a)((function(e){return new Map(e.map((function(e){return[e.id,e]})))})))).subscribe(k);return function(){e.unsubscribe()}}),[n]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Todo list"),y===N?c.a.createElement("p",{className:_.a.loading},"Loading..."):c.a.createElement(c.a.Fragment,null,0===y.size?c.a.createElement("p",null,c.a.createElement("em",null,"No todos.")):Array.from(y.values()).map((function(e){return c.a.createElement("div",{key:e.id,className:_.a.todo},c.a.createElement("input",{className:_.a.check,type:"checkbox",checked:e.isDone,onChange:function(){var t=new Map(y),a=Object(s.a)({},e,{isDone:!e.isDone});t.set(e.id,a),k(t),o(function(e){var t=v();return t.has(e.id)?Object(u.a)(e).pipe(Object(d.a)(1e3),Object(p.a)((function(){console.log("Mock API PUT"),t.set(e.id,e),f(t)}))):Object(m.a)({message:"Invalid todo ID"})}(a))}}),e.message,c.a.createElement("span",{className:_.a.delete,onClick:function(){var t=new Map(y);t.delete(e.id),k(t),o(function(e){var t=v();return t.has(e)?Object(u.a)(null).pipe(Object(d.a)(1e3),Object(p.a)((function(){console.log("Mock API DELETE"),t.delete(e),f(t)}))):Object(m.a)({message:"Invalid todo ID"})}(e.id))}},"delete"))})),c.a.createElement("p",null,c.a.createElement("span",{className:_.a.action,onClick:function(){var e=prompt("Enter new todo");null!==e&&o(function(e){var t=v(),a=Math.max.apply(Math,[0].concat(Object(l.a)(Array.from(t.keys()))))+1,n={id:a,message:e,isDone:!1};return Object(u.a)(n).pipe(Object(d.a)(1e3),Object(p.a)((function(){console.log("Mock API POST"),t.set(a,n),f(t)})))}(e),(function(e){var t=new Map(y);t.set(e.id,e),k(t)}))}},"+ Add todo"))))}function y(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Welcome to CRFS Todo Manager"),c.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In elementum tortor sit amet massa posuere, ege gravida leo sagittis. Proin fringilla, nibh sed accumsan posuere, est justo mattis metus."),c.a.createElement("p",null,"Cras elit mi, elementum sit amet gravida quis, vestibulum vitae ligula."),c.a.createElement("h2",null,"Duis enim mauris"),c.a.createElement("p",null,"Mauris vel vulputate risus. Donec eu neque ultrices, semper magna et, porta ligula. Integer dignissim scelerisque ante in ornare. Mauris suscipit mauris at iaculis vestibulum. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nullam dignissim."))}var k,M=a(8),S=a.n(M);function T(e){var t=e.children,a=e.nav,n=e.selectedNav,r=e.setSelectedNav;return c.a.createElement("div",{className:a===n?S.a.navEntrySelected:S.a.navEntry,onClick:function(){r(a)}},t)}!function(e){e[e.Welcome=0]="Welcome",e[e.TodoList=1]="TodoList"}(k||(k={}));a(35);o.a.render(c.a.createElement((function(){var e,t=c.a.useState(k.Welcome),a=Object(i.a)(t,2),n=a[0],r=a[1];switch(n){case k.Welcome:e=c.a.createElement(y,null);break;case k.TodoList:e=c.a.createElement(j,null)}return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:S.a.header},c.a.createElement("div",{className:S.a.container},c.a.createElement("div",{className:S.a.branding},"CRFS Todo Manager"))),c.a.createElement("div",{className:S.a.nav},c.a.createElement("div",{className:S.a.container},c.a.createElement(T,{nav:k.Welcome,selectedNav:n,setSelectedNav:r},"Welcome"),c.a.createElement(T,{nav:k.TodoList,selectedNav:n,setSelectedNav:r},"Todo"))),c.a.createElement("div",{className:S.a.container},c.a.createElement("div",{className:S.a.content},e)))}),null),document.getElementById("root"))},8:function(e,t,a){e.exports={container:"App_container__1MQN3",header:"App_header__3ZZ1n",branding:"App_branding__1f1hV",nav:"App_nav__1_46_",navEntry:"App_navEntry__G3KK3",navEntrySelected:"App_navEntrySelected__oO-h0 App_navEntry__G3KK3",content:"App_content__3La4L"}}},[[30,1,2]]]);
//# sourceMappingURL=main.bace0864.chunk.js.map